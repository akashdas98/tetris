(()=>{"use strict";const t=function(t,r){void 0===r&&(r=30);var o=this;this.drawTile=function(t,r,e){o.ctx.fillStyle=e,o.ctx.strokeStyle="#000000",o.ctx.globalAlpha=1,o.ctx.fillRect(t*o.scale,r*o.scale,o.scale,o.scale),o.ctx.globalAlpha=.5,o.ctx.strokeRect(t*o.scale,r*o.scale,o.scale,o.scale)},this.drawPiece=function(t){var r=t.getPivot,e=t.getColor,n=t.getMatrix,i=r(),a=e();n().forEach((function(t){o.drawTile(t[0]+i[0],t[1]+i[1],a)}))},this.draw=function(){o.clear();for(var t=0;t<20;t++)for(var r=0;r<10;r++){var e=o.matrix[t][r];1===e.value&&o.drawTile(r,t,e.color)}},this.getMatrix=function(){return o.matrix},this.getCtx=function(){return o.ctx},this.clear=function(){return o.ctx.clearRect(0,0,o.canvas.width,o.canvas.height)},this.clearLine=function(){for(var t=0;t<20;t++)if(o.matrix[t].every((function(t){return 1===t.value}))){for(var r=0;r<10;r++)o.matrix[t][r]={value:0,color:null};for(var e=t;e>0;e--)o.matrix[e]=o.matrix[e-1];o.matrix[0]=Array.from({length:10},(function(){return{value:0,color:null}})),t--}o.draw()},this.maxHeightReached=function(){return o.matrix[0].some((function(t){return 1===t.value}))},this.addToStack=function(t){t.getMatrix().forEach((function(r){var e,n=t.getPivot(),i=null===(e=o.matrix[r[1]+n[1]])||void 0===e?void 0:e[r[0]+n[0]];i&&(i.value=1,i.color=t.getColor())}))},this.canvas=t,this.ctx=t.getContext("2d"),this.scale=r,this.canvas.height=20*this.scale,this.canvas.width=10*this.scale,this.matrix=Array.from({length:20},(function(){return Array.from({length:10},(function(){return{value:0,color:null}}))}))},r=function(){function t(t){var r=t.matrix,o=t.pivot,e=t.id,n=t.color,i=this;this.setPivot=function(t,r){i.pivot=[t,r]},this.getPivot=function(){return i.pivot},this.getMatrix=function(){return i.matrix},this.getColor=function(){return i.color},this.rotate=function(t,r){if("O"!==i.id){var o=i.getRotationMatrix(t),e=i.matrix.map((function(t){return e=t,[(r=o)[0][0]*e[0]+r[0][1]*e[1],r[1][0]*e[0]+r[1][1]*e[1]];var r,e}));i.changeOrientation(t);for(var n=!1,a=0,c=i.kickData[i.orientation];a<c.length;a++){var u=c[a],s=u[0],f=u[1];if(!i.checkKick(s,f,e,r)){i.doKick(s,f,e,t),n=!0;break}}n||i.changeOrientation(0===t?1:0)}},this.matrix=r,this.pivot=o,this.id=e,this.color=n,this.orientation=0,this.kickData=[[[0,0],[0,0],[0,0],[0,0],[0,0]],[[0,0],[1,0],[0,-1],[0,2],[1,2]],[[0,0],[0,0],[0,0],[0,0],[0,0]],[[0,0],[-1,0],[-1,-1],[0,2],[-1,2]]]}return t.prototype.getRotationMatrix=function(t){return 0===t?[[0,1],[-1,0]]:[[0,-1],[1,0]]},t.prototype.checkKick=function(t,r,o,e){for(var n,i,a=!1,c=0;c<o.length;c++){if(o[c][0]+this.pivot[0]+t<0||o[c][0]+this.pivot[0]+t>9||o[c][1]+this.pivot[1]+r<0||o[c][1]+this.pivot[1]+r>19){a=!0;break}if(1===(null===(i=null===(n=e[o[c][1]+this.pivot[1]+r])||void 0===n?void 0:n[o[c][0]+this.pivot[0]+t])||void 0===i?void 0:i.value)){a=!0;break}}return a},t.prototype.doKick=function(t,r,o,e){this.matrix=o,this.pivot[0]+=t,this.pivot[1]+=r,this.changeOrientation(e)},t.prototype.changeOrientation=function(t){this.orientation=1==t?((this.orientation+1)%4+4)%4:((this.orientation-1)%4+4)%4},t}();var o,e=(o=function(t,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},o(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function e(){this.constructor=t}o(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)});const n=function(t){function r(r,o){return t.call(this,{id:"T",color:"#ff00ff",pivot:[r,o],matrix:[[0,-1],[-1,0],[0,0],[1,0]]})||this}return e(r,t),r}(r);var i=function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},t(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const a=function(t){function r(r,o){var e=this;return(e=t.call(this,{id:"I",color:"#00ffff",pivot:[r,o],matrix:[[-1.5,.5],[-.5,.5],[.5,.5],[1.5,.5]]})||this).kickData=[[[0,0],[-1,0],[2,0],[-1,0],[2,0]],[[-1,0],[0,0],[0,0],[0,1],[0,-2]],[[-1,1],[1,1],[-2,1],[1,0],[-2,0]],[[0,1],[0,1],[0,1],[0,-1],[0,2]]],e}return i(r,t),r}(r);var c=function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},t(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const u=function(t){function r(r,o){var e=this;return(e=t.call(this,{id:"O",color:"#ffff00",pivot:[r,o],matrix:[[-1,0],[0,0],[-1,-1],[0,-1]]})||this).rotate=function(){},e}return c(r,t),r}(r);var s=function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},t(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const f=function(t){function r(r,o){return t.call(this,{id:"S",color:"#00ff00",pivot:[r,o],matrix:[[-1,0],[0,0],[0,-1],[1,-1]]})||this}return s(r,t),r}(r);var l=function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},t(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const p=function(t){function r(r,o){return t.call(this,{id:"J",color:"#0000ff",pivot:[r,o],matrix:[[-1,0],[0,0],[1,0],[-1,-1]]})||this}return l(r,t),r}(r);var h=function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},t(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const v=function(t){function r(r,o){return t.call(this,{id:"Z",color:"#ff0000",pivot:[r,o],matrix:[[-1,-1],[0,0],[0,-1],[1,0]]})||this}return h(r,t),r}(r);var d=function(){var t=function(r,o){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])},t(r,o)};return function(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function e(){this.constructor=r}t(r,o),r.prototype=null===o?Object.create(o):(e.prototype=o.prototype,new e)}}();const y=function(t){function r(r,o){return t.call(this,{id:"L",color:"#ff7f00",pivot:[r,o],matrix:[[-1,0],[0,0],[1,0],[1,-1]]})||this}return d(r,t),r}(r);(new(function(){function r(){var r=this;this.history=99,this.normalDrop=100,this.softDrop=50,this.handleKeyDown=function(t){var o=r.board.getMatrix();switch(t.key){case"ArrowLeft":r.tryMove(-1,0);break;case"ArrowRight":r.tryMove(1,0);break;case"ArrowDown":r.startSoftDrop();break;case"ArrowUp":case"c":r.currentPiece.rotate(1,o);break;case" ":r.currentPiece.rotate(0,o);break;default:return}r.redrawGameBoard()},this.handleKeyUp=function(t){"ArrowDown"===t.key&&r.stopSoftDrop()},this.tryMove=function(t,o){var e=r.currentPiece.getMatrix(),n=r.currentPiece.getPivot();e.every((function(e){var i=e[0]+n[0]+t,a=e[1]+n[1]+o;return r.isPositionValid(i,a)}))&&r.currentPiece.setPivot(n[0]+t,n[1]+o)},this.isPositionValid=function(t,o){var e,n,i=r.board.getMatrix();return t>=0&&t<=9&&o<=19&&1!==(null===(n=null===(e=i[o])||void 0===e?void 0:e[t])||void 0===n?void 0:n.value)},this.canDrop=function(){var t=r.board.getMatrix(),o=r.currentPiece.getMatrix(),e=r.currentPiece.getPivot();return o.every((function(r){var o,n,i=r[1]+e[1]+1;return i<=19&&1!==(null===(n=null===(o=t[i])||void 0===o?void 0:o[r[0]+e[0]])||void 0===n?void 0:n.value)}))},this.redrawGameBoard=function(){r.board.draw(),r.board.drawPiece(r.currentPiece)},this.startGame=function(){r.stopped=!1,r.spawn(),r.frameRequestHandle=requestAnimationFrame(r.startDropLoop)},this.startDropLoop=function(t){var o=t-r.lastUpdateTime;for(r.lastUpdateTime=t,r.accumulatedTime+=o;r.accumulatedTime>r.currentSpeed;)r.canDrop()?r.drop():r.timeout||r.queueStop(),r.accumulatedTime-=r.currentSpeed;r.redrawGameBoard(),r.stopped||(r.frameRequestHandle=requestAnimationFrame(r.startDropLoop))},this.spawn=function(){r.currentPiece=r.nextPiece,r.nextPiece=r.generateRandomPiece(),r.board.drawPiece(r.currentPiece)},this.drop=function(){var t=r.currentPiece.getPivot();r.currentPiece.setPivot(t[0],t[1]+1),r.redrawGameBoard()},this.queueStop=function(){r.timeout||(r.timeout=setTimeout(r.stop,1e3))},this.stop=function(){r.canDrop()||(r.clearDropInterval(),r.clearStopTimeout(),r.stopped=!0,r.board.addToStack(r.currentPiece),r.board.clearLine(),r.board.maxHeightReached()||r.startGame())},this.clearDropInterval=function(){r.frameRequestHandle&&(cancelAnimationFrame(r.frameRequestHandle),r.frameRequestHandle=null)},this.clearStopTimeout=function(){r.timeout&&clearTimeout(r.timeout),r.timeout=void 0},this.randomizer=function(){for(var t=Math.floor(7*Math.random());t===r.history;)t=Math.floor(7*Math.random());return r.history=t,t},this.generateRandomPiece=function(){var t;switch(r.randomizer()){case 0:t=new n(5,0);break;case 1:t=new a(4.5,-.5);break;case 2:t=new p(5,0);break;case 3:t=new y(5,0);break;case 4:t=new f(5,0);break;case 5:t=new u(5,0);break;default:t=new v(5,0)}return t},this.lastUpdateTime=window.performance.now(),this.board=new t(document.querySelector("canvas")),this.nextPiece=this.generateRandomPiece(),this.currentPiece=this.generateRandomPiece(),this.currentSpeed=this.normalDrop,this.isSoftDropping=!1,this.accumulatedTime=0,this.frameRequestHandle=null,this.stopped=!0,window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)}return r.prototype.startSoftDrop=function(){this.isSoftDropping||(this.currentSpeed=this.softDrop,this.isSoftDropping=!0)},r.prototype.stopSoftDrop=function(){this.currentSpeed=this.normalDrop,this.isSoftDropping=!1},r}())).startGame()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnZCLEtBQUs0RSxnQkFBaUIsRUFFMUIsRUFFUSxZQUFBM0MsYUFBUixXQUNFakMsS0FBS2tELGFBQWVsRCxLQUFLc0IsV0FDekJ0QixLQUFLNEUsZ0JBQWlCLENBQ3hCLEVBMkhGLEVBek5BLEtEUEtwQyxXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL0JvYXJkL0JvYXJkLnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy9QaWVjZS9QaWVjZS50cyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL1BpZWNlL1RQaWVjZS50cyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9zcmMvUGllY2UvSVBpZWNlLnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy9QaWVjZS9PUGllY2UudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL1BpZWNlL1NQaWVjZS50cyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9zcmMvUGllY2UvSlBpZWNlLnRzIiwid2VicGFjazovL3RldHJpcy8uL3NyYy9QaWVjZS9aUGllY2UudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL1BpZWNlL0xQaWVjZS50cyIsIndlYnBhY2s6Ly90ZXRyaXMvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vdGV0cmlzLy4vc3JjL0dhbWUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBpZWNlIGZyb20gXCIuLi9QaWVjZS9QaWVjZVwiO1xyXG5cclxuZXhwb3J0IHR5cGUgQm9hcmRNYXRyaXggPSB7IHZhbHVlOiBudW1iZXI7IGNvbG9yOiBzdHJpbmcgfCBudWxsIH1bXVtdO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQm9hcmQge1xyXG4gIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gIHByaXZhdGUgc2NhbGU6IG51bWJlcjtcclxuICBwcml2YXRlIG1hdHJpeDogQm9hcmRNYXRyaXg7XHJcblxyXG4gIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIHNjYWxlOiBudW1iZXIgPSAzMCkge1xyXG4gICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIikgYXMgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG4gICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xyXG4gICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gMjAgKiB0aGlzLnNjYWxlO1xyXG4gICAgdGhpcy5jYW52YXMud2lkdGggPSAxMCAqIHRoaXMuc2NhbGU7XHJcbiAgICB0aGlzLm1hdHJpeCA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDIwIH0sICgpID0+XHJcbiAgICAgIEFycmF5LmZyb20oeyBsZW5ndGg6IDEwIH0sICgpID0+ICh7IHZhbHVlOiAwLCBjb2xvcjogbnVsbCB9KSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRyYXdUaWxlID0gKHg6IG51bWJlciwgeTogbnVtYmVyLCBjb2xvcjogc3RyaW5nKTogdm9pZCA9PiB7XHJcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCIjMDAwMDAwXCI7XHJcbiAgICB0aGlzLmN0eC5nbG9iYWxBbHBoYSA9IDE7XHJcbiAgICB0aGlzLmN0eC5maWxsUmVjdCh4ICogdGhpcy5zY2FsZSwgeSAqIHRoaXMuc2NhbGUsIHRoaXMuc2NhbGUsIHRoaXMuc2NhbGUpO1xyXG4gICAgdGhpcy5jdHguZ2xvYmFsQWxwaGEgPSAwLjU7XHJcbiAgICB0aGlzLmN0eC5zdHJva2VSZWN0KHggKiB0aGlzLnNjYWxlLCB5ICogdGhpcy5zY2FsZSwgdGhpcy5zY2FsZSwgdGhpcy5zY2FsZSk7XHJcbiAgfTtcclxuXHJcbiAgcHVibGljIGRyYXdQaWVjZSA9IChwaWVjZTogUGllY2UpOiB2b2lkID0+IHtcclxuICAgIGNvbnN0IHsgZ2V0UGl2b3QsIGdldENvbG9yLCBnZXRNYXRyaXggfSA9IHBpZWNlO1xyXG4gICAgY29uc3QgcGl2b3QgPSBnZXRQaXZvdCgpO1xyXG4gICAgY29uc3QgY29sb3IgPSBnZXRDb2xvcigpO1xyXG4gICAgZ2V0TWF0cml4KCkuZm9yRWFjaCgodGlsZSkgPT4ge1xyXG4gICAgICB0aGlzLmRyYXdUaWxlKHRpbGVbMF0gKyBwaXZvdFswXSwgdGlsZVsxXSArIHBpdm90WzFdLCBjb2xvcik7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgZHJhdyA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRoaXMuY2xlYXIoKTtcclxuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgMjA7IHkrKykge1xyXG4gICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4KyspIHtcclxuICAgICAgICBjb25zdCBjZWxsID0gdGhpcy5tYXRyaXhbeV1beF07XHJcbiAgICAgICAgaWYgKGNlbGwudmFsdWUgPT09IDEpIHtcclxuICAgICAgICAgIHRoaXMuZHJhd1RpbGUoeCwgeSwgY2VsbC5jb2xvciBhcyBzdHJpbmcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBnZXRNYXRyaXggPSAoKTogQm9hcmRNYXRyaXggPT4gdGhpcy5tYXRyaXg7XHJcblxyXG4gIHB1YmxpYyBnZXRDdHggPSAoKTogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEID0+IHRoaXMuY3R4O1xyXG5cclxuICBwdWJsaWMgY2xlYXIgPSAoKTogdm9pZCA9PlxyXG4gICAgdGhpcy5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuY2FudmFzLndpZHRoLCB0aGlzLmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICBwdWJsaWMgY2xlYXJMaW5lID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCAyMDsgeSsrKSB7XHJcbiAgICAgIGlmICh0aGlzLm1hdHJpeFt5XS5ldmVyeSgoY2VsbCkgPT4gY2VsbC52YWx1ZSA9PT0gMSkpIHtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8IDEwOyB4KyspIHtcclxuICAgICAgICAgIHRoaXMubWF0cml4W3ldW3hdID0geyB2YWx1ZTogMCwgY29sb3I6IG51bGwgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2hpZnQgZG93biBhbGwgcm93cyBhYm92ZSB0aGUgY2xlYXJlZCBsaW5lXHJcbiAgICAgICAgZm9yIChsZXQgc2hpZnRZID0geTsgc2hpZnRZID4gMDsgc2hpZnRZLS0pIHtcclxuICAgICAgICAgIHRoaXMubWF0cml4W3NoaWZ0WV0gPSB0aGlzLm1hdHJpeFtzaGlmdFkgLSAxXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5tYXRyaXhbMF0gPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAxMCB9LCAoKSA9PiAoe1xyXG4gICAgICAgICAgdmFsdWU6IDAsXHJcbiAgICAgICAgICBjb2xvcjogbnVsbCxcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgeS0tOyAvLyBSZS1jaGVjayB0aGUgc2FtZSBsaW5lIGluZGV4IGJlY2F1c2UgaXQgbm93IGhhcyBhIG5ldyByb3cgYWZ0ZXIgdGhlIHNoaWZ0XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZHJhdygpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBtYXhIZWlnaHRSZWFjaGVkID0gKCk6IGJvb2xlYW4gPT5cclxuICAgIHRoaXMubWF0cml4WzBdLnNvbWUoKGNlbGwpID0+IGNlbGwudmFsdWUgPT09IDEpO1xyXG5cclxuICBwdWJsaWMgYWRkVG9TdGFjayA9IChwaWVjZTogUGllY2UpID0+IHtcclxuICAgIHBpZWNlLmdldE1hdHJpeCgpLmZvckVhY2goKHRpbGUpID0+IHtcclxuICAgICAgY29uc3QgcGl2b3QgPSBwaWVjZS5nZXRQaXZvdCgpO1xyXG4gICAgICBjb25zdCBjZWxsID0gdGhpcy5tYXRyaXhbdGlsZVsxXSArIHBpdm90WzFdXT8uW3RpbGVbMF0gKyBwaXZvdFswXV07XHJcbiAgICAgIGlmIChjZWxsKSB7XHJcbiAgICAgICAgY2VsbC52YWx1ZSA9IDE7XHJcbiAgICAgICAgY2VsbC5jb2xvciA9IHBpZWNlLmdldENvbG9yKCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgQm9hcmRNYXRyaXggfSBmcm9tIFwiLi4vQm9hcmQvQm9hcmRcIjtcclxuaW1wb3J0IHsgbWF0cml4TXVsdGlwbHkgfSBmcm9tIFwiLi4vdXRpbHNcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgUGllY2VJbnRlcmZhY2Uge1xyXG4gIG1hdHJpeDogbnVtYmVyW11bXTtcclxuICBwaXZvdDogbnVtYmVyW107XHJcbiAgaWQ6IFwiT1wiIHwgXCJJXCIgfCBcIlNcIiB8IFwiWlwiIHwgXCJKXCIgfCBcIkxcIiB8IFwiVFwiO1xyXG4gIGNvbG9yOiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFBpZWNlIHtcclxuICBwcm90ZWN0ZWQgbWF0cml4OiBQaWVjZUludGVyZmFjZVtcIm1hdHJpeFwiXTtcclxuICBwcm90ZWN0ZWQgcGl2b3Q6IFBpZWNlSW50ZXJmYWNlW1wicGl2b3RcIl07XHJcbiAgcHJvdGVjdGVkIGlkOiBQaWVjZUludGVyZmFjZVtcImlkXCJdO1xyXG4gIHByb3RlY3RlZCBjb2xvcjogUGllY2VJbnRlcmZhY2VbXCJjb2xvclwiXTtcclxuICBwcm90ZWN0ZWQgb3JpZW50YXRpb246IDAgfCAxIHwgMiB8IDM7XHJcbiAgcHJvdGVjdGVkIGtpY2tEYXRhOiBbbnVtYmVyLCBudW1iZXJdW11bXTtcclxuXHJcbiAgY29uc3RydWN0b3IoeyBtYXRyaXgsIHBpdm90LCBpZCwgY29sb3IgfTogUGllY2VJbnRlcmZhY2UpIHtcclxuICAgIHRoaXMubWF0cml4ID0gbWF0cml4O1xyXG4gICAgdGhpcy5waXZvdCA9IHBpdm90O1xyXG4gICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgdGhpcy5vcmllbnRhdGlvbiA9IDA7XHJcbiAgICB0aGlzLmtpY2tEYXRhID0gW1xyXG4gICAgICBbXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIFswLCAwXSxcclxuICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIFswLCAwXSxcclxuICAgICAgXSxcclxuICAgICAgW1xyXG4gICAgICAgIFswLCAwXSxcclxuICAgICAgICBbMSwgMF0sXHJcbiAgICAgICAgWzAsIC0xXSxcclxuICAgICAgICBbMCwgMl0sXHJcbiAgICAgICAgWzEsIDJdLFxyXG4gICAgICBdLFxyXG4gICAgICBbXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIFswLCAwXSxcclxuICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIFswLCAwXSxcclxuICAgICAgXSxcclxuICAgICAgW1xyXG4gICAgICAgIFswLCAwXSxcclxuICAgICAgICBbLTEsIDBdLFxyXG4gICAgICAgIFstMSwgLTFdLFxyXG4gICAgICAgIFswLCAyXSxcclxuICAgICAgICBbLTEsIDJdLFxyXG4gICAgICBdLFxyXG4gICAgXTtcclxuICB9XHJcblxyXG4gIHB1YmxpYyBzZXRQaXZvdCA9ICh4OiBudW1iZXIsIHk6IG51bWJlcik6IHZvaWQgPT4ge1xyXG4gICAgdGhpcy5waXZvdCA9IFt4LCB5XTtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgZ2V0UGl2b3QgPSAoKTogUGllY2VJbnRlcmZhY2VbXCJwaXZvdFwiXSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5waXZvdDtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgZ2V0TWF0cml4ID0gKCk6IFBpZWNlSW50ZXJmYWNlW1wibWF0cml4XCJdID0+IHtcclxuICAgIHJldHVybiB0aGlzLm1hdHJpeDtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgZ2V0Q29sb3IgPSAoKTogUGllY2VJbnRlcmZhY2VbXCJjb2xvclwiXSA9PiB7XHJcbiAgICByZXR1cm4gdGhpcy5jb2xvcjtcclxuICB9O1xyXG5cclxuICBwdWJsaWMgcm90YXRlID0gKGRpcjogMCB8IDEsIGJvYXJkTWF0cml4OiBCb2FyZE1hdHJpeCk6IHZvaWQgPT4ge1xyXG4gICAgaWYgKHRoaXMuaWQgPT09IFwiT1wiKSByZXR1cm47XHJcbiAgICBsZXQgcm90YXRpb24gPSB0aGlzLmdldFJvdGF0aW9uTWF0cml4KGRpcik7XHJcblxyXG4gICAgbGV0IHJvdGF0ZWQgPSB0aGlzLm1hdHJpeC5tYXAoKHRpbGUpID0+IHtcclxuICAgICAgcmV0dXJuIG1hdHJpeE11bHRpcGx5KHJvdGF0aW9uLCB0aWxlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuY2hhbmdlT3JpZW50YXRpb24oZGlyKTtcclxuXHJcbiAgICBsZXQgcm90YXRpb25TdWNjZXNzZnVsOiBib29sZWFuID0gZmFsc2U7XHJcbiAgICBmb3IgKGNvbnN0IFt4LCB5XSBvZiB0aGlzLmtpY2tEYXRhW3RoaXMub3JpZW50YXRpb25dKSB7XHJcbiAgICAgIGxldCBraWNrOiBib29sZWFuID0gdGhpcy5jaGVja0tpY2soeCwgeSwgcm90YXRlZCwgYm9hcmRNYXRyaXgpO1xyXG4gICAgICBpZiAoIWtpY2spIHtcclxuICAgICAgICB0aGlzLmRvS2ljayh4LCB5LCByb3RhdGVkLCBkaXIpO1xyXG4gICAgICAgIHJvdGF0aW9uU3VjY2Vzc2Z1bCA9IHRydWU7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXJvdGF0aW9uU3VjY2Vzc2Z1bCkge1xyXG4gICAgICB0aGlzLmNoYW5nZU9yaWVudGF0aW9uKGRpciA9PT0gMCA/IDEgOiAwKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIGdldFJvdGF0aW9uTWF0cml4KGRpcjogMCB8IDEpOiBudW1iZXJbXVtdIHtcclxuICAgIGxldCByb3RhdGlvbjtcclxuICAgIGlmIChkaXIgPT09IDApIHtcclxuICAgICAgcm90YXRpb24gPSBbXHJcbiAgICAgICAgWzAsIDFdLFxyXG4gICAgICAgIFstMSwgMF0sXHJcbiAgICAgIF07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByb3RhdGlvbiA9IFtcclxuICAgICAgICBbMCwgLTFdLFxyXG4gICAgICAgIFsxLCAwXSxcclxuICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcm90YXRpb247XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNoZWNrS2ljayhcclxuICAgIHg6IG51bWJlcixcclxuICAgIHk6IG51bWJlcixcclxuICAgIHJvdGF0ZWQ6IFBpZWNlSW50ZXJmYWNlW1wibWF0cml4XCJdLFxyXG4gICAgYm9hcmRNYXRyaXg6IEJvYXJkTWF0cml4XHJcbiAgKTogYm9vbGVhbiB7XHJcbiAgICBsZXQga2ljayA9IGZhbHNlO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3RhdGVkLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICByb3RhdGVkW2ldWzBdICsgdGhpcy5waXZvdFswXSArIHggPCAwIHx8XHJcbiAgICAgICAgcm90YXRlZFtpXVswXSArIHRoaXMucGl2b3RbMF0gKyB4ID4gOSB8fFxyXG4gICAgICAgIHJvdGF0ZWRbaV1bMV0gKyB0aGlzLnBpdm90WzFdICsgeSA8IDAgfHxcclxuICAgICAgICByb3RhdGVkW2ldWzFdICsgdGhpcy5waXZvdFsxXSArIHkgPiAxOVxyXG4gICAgICApIHtcclxuICAgICAgICBraWNrID0gdHJ1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfSBlbHNlIGlmIChcclxuICAgICAgICBib2FyZE1hdHJpeFtyb3RhdGVkW2ldWzFdICsgdGhpcy5waXZvdFsxXSArIHldPy5bXHJcbiAgICAgICAgICByb3RhdGVkW2ldWzBdICsgdGhpcy5waXZvdFswXSArIHhcclxuICAgICAgICBdPy52YWx1ZSA9PT0gMVxyXG4gICAgICApIHtcclxuICAgICAgICBraWNrID0gdHJ1ZTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtpY2s7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGRvS2ljayhcclxuICAgIHg6IG51bWJlcixcclxuICAgIHk6IG51bWJlcixcclxuICAgIHJvdGF0ZWQ6IFBpZWNlSW50ZXJmYWNlW1wibWF0cml4XCJdLFxyXG4gICAgZGlyOiAxIHwgMFxyXG4gICkge1xyXG4gICAgdGhpcy5tYXRyaXggPSByb3RhdGVkO1xyXG4gICAgdGhpcy5waXZvdFswXSArPSB4O1xyXG4gICAgdGhpcy5waXZvdFsxXSArPSB5O1xyXG4gICAgdGhpcy5jaGFuZ2VPcmllbnRhdGlvbihkaXIpO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBjaGFuZ2VPcmllbnRhdGlvbihkaXI6IDEgfCAwKSB7XHJcbiAgICB0aGlzLm9yaWVudGF0aW9uID0gKFxyXG4gICAgICBkaXIgPT0gMVxyXG4gICAgICAgID8gKCgodGhpcy5vcmllbnRhdGlvbiArIDEpICUgNCkgKyA0KSAlIDRcclxuICAgICAgICA6ICgoKHRoaXMub3JpZW50YXRpb24gLSAxKSAlIDQpICsgNCkgJSA0XHJcbiAgICApIGFzIHR5cGVvZiB0aGlzLm9yaWVudGF0aW9uO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gbWF0cml4TXVsdGlwbHkoYTogbnVtYmVyW11bXSwgYjogbnVtYmVyW10pIHtcclxuICBsZXQgYyA9IFthWzBdWzBdICogYlswXSArIGFbMF1bMV0gKiBiWzFdLCBhWzFdWzBdICogYlswXSArIGFbMV1bMV0gKiBiWzFdXTtcclxuICByZXR1cm4gYztcclxufVxyXG4iLCJpbXBvcnQgUGllY2UgZnJvbSBcIi4vUGllY2VcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRQaWVjZSBleHRlbmRzIFBpZWNlIHtcclxuICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgY29uc3QgaWQgPSBcIlRcIjtcclxuICAgIGNvbnN0IGNvbG9yID0gXCIjZmYwMGZmXCI7XHJcbiAgICBsZXQgbWF0cml4ID0gW1xyXG4gICAgICBbMCwgLTFdLFxyXG4gICAgICBbLTEsIDBdLFxyXG4gICAgICBbMCwgMF0sXHJcbiAgICAgIFsxLCAwXSxcclxuICAgIF07XHJcbiAgICBzdXBlcih7XHJcbiAgICAgIGlkLFxyXG4gICAgICBjb2xvcixcclxuICAgICAgcGl2b3Q6IFt4LCB5XSxcclxuICAgICAgbWF0cml4LFxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQaWVjZSBmcm9tIFwiLi9QaWVjZVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSVBpZWNlIGV4dGVuZHMgUGllY2Uge1xyXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyKSB7XHJcbiAgICBjb25zdCBpZCA9IFwiSVwiO1xyXG4gICAgY29uc3QgY29sb3IgPSBcIiMwMGZmZmZcIjtcclxuICAgIGxldCBtYXRyaXggPSBbXHJcbiAgICAgIFstMS41LCAwLjVdLFxyXG4gICAgICBbLTAuNSwgMC41XSxcclxuICAgICAgWzAuNSwgMC41XSxcclxuICAgICAgWzEuNSwgMC41XSxcclxuICAgIF07XHJcbiAgICBzdXBlcih7XHJcbiAgICAgIGlkLFxyXG4gICAgICBjb2xvcixcclxuICAgICAgcGl2b3Q6IFt4LCB5XSxcclxuICAgICAgbWF0cml4LFxyXG4gICAgfSk7XHJcbiAgICB0aGlzLmtpY2tEYXRhID0gW1xyXG4gICAgICBbXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIFstMSwgMF0sXHJcbiAgICAgICAgWzIsIDBdLFxyXG4gICAgICAgIFstMSwgMF0sXHJcbiAgICAgICAgWzIsIDBdLFxyXG4gICAgICBdLFxyXG4gICAgICBbXHJcbiAgICAgICAgWy0xLCAwXSxcclxuICAgICAgICBbMCwgMF0sXHJcbiAgICAgICAgWzAsIDBdLFxyXG4gICAgICAgIFswLCAxXSxcclxuICAgICAgICBbMCwgLTJdLFxyXG4gICAgICBdLFxyXG4gICAgICBbXHJcbiAgICAgICAgWy0xLCAxXSxcclxuICAgICAgICBbMSwgMV0sXHJcbiAgICAgICAgWy0yLCAxXSxcclxuICAgICAgICBbMSwgMF0sXHJcbiAgICAgICAgWy0yLCAwXSxcclxuICAgICAgXSxcclxuICAgICAgW1xyXG4gICAgICAgIFswLCAxXSxcclxuICAgICAgICBbMCwgMV0sXHJcbiAgICAgICAgWzAsIDFdLFxyXG4gICAgICAgIFswLCAtMV0sXHJcbiAgICAgICAgWzAsIDJdLFxyXG4gICAgICBdLFxyXG4gICAgXTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBpZWNlIGZyb20gXCIuL1BpZWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBPUGllY2UgZXh0ZW5kcyBQaWVjZSB7XHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGlkID0gXCJPXCI7XHJcbiAgICBjb25zdCBjb2xvciA9IFwiI2ZmZmYwMFwiO1xyXG4gICAgbGV0IG1hdHJpeCA9IFtcclxuICAgICAgWy0xLCAwXSxcclxuICAgICAgWzAsIDBdLFxyXG4gICAgICBbLTEsIC0xXSxcclxuICAgICAgWzAsIC0xXSxcclxuICAgIF07XHJcbiAgICBzdXBlcih7XHJcbiAgICAgIGlkLFxyXG4gICAgICBjb2xvcixcclxuICAgICAgcGl2b3Q6IFt4LCB5XSxcclxuICAgICAgbWF0cml4LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgcm90YXRlID0gKCk6IHZvaWQgPT4ge1xyXG4gICAgcmV0dXJuO1xyXG4gIH07XHJcbn1cclxuIiwiaW1wb3J0IFBpZWNlIGZyb20gXCIuL1BpZWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUUGllY2UgZXh0ZW5kcyBQaWVjZSB7XHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGlkID0gXCJTXCI7XHJcbiAgICBjb25zdCBjb2xvciA9IFwiIzAwZmYwMFwiO1xyXG4gICAgbGV0IG1hdHJpeCA9IFtcclxuICAgICAgWy0xLCAwXSxcclxuICAgICAgWzAsIDBdLFxyXG4gICAgICBbMCwgLTFdLFxyXG4gICAgICBbMSwgLTFdLFxyXG4gICAgXTtcclxuICAgIHN1cGVyKHtcclxuICAgICAgaWQsXHJcbiAgICAgIGNvbG9yLFxyXG4gICAgICBwaXZvdDogW3gsIHldLFxyXG4gICAgICBtYXRyaXgsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBpZWNlIGZyb20gXCIuL1BpZWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUUGllY2UgZXh0ZW5kcyBQaWVjZSB7XHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGlkID0gXCJKXCI7XHJcbiAgICBjb25zdCBjb2xvciA9IFwiIzAwMDBmZlwiO1xyXG4gICAgbGV0IG1hdHJpeCA9IFtcclxuICAgICAgWy0xLCAwXSxcclxuICAgICAgWzAsIDBdLFxyXG4gICAgICBbMSwgMF0sXHJcbiAgICAgIFstMSwgLTFdLFxyXG4gICAgXTtcclxuICAgIHN1cGVyKHtcclxuICAgICAgaWQsXHJcbiAgICAgIGNvbG9yLFxyXG4gICAgICBwaXZvdDogW3gsIHldLFxyXG4gICAgICBtYXRyaXgsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBpZWNlIGZyb20gXCIuL1BpZWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUUGllY2UgZXh0ZW5kcyBQaWVjZSB7XHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGlkID0gXCJaXCI7XHJcbiAgICBjb25zdCBjb2xvciA9IFwiI2ZmMDAwMFwiO1xyXG4gICAgbGV0IG1hdHJpeCA9IFtcclxuICAgICAgWy0xLCAtMV0sXHJcbiAgICAgIFswLCAwXSxcclxuICAgICAgWzAsIC0xXSxcclxuICAgICAgWzEsIDBdLFxyXG4gICAgXTtcclxuICAgIHN1cGVyKHtcclxuICAgICAgaWQsXHJcbiAgICAgIGNvbG9yLFxyXG4gICAgICBwaXZvdDogW3gsIHldLFxyXG4gICAgICBtYXRyaXgsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBpZWNlIGZyb20gXCIuL1BpZWNlXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUUGllY2UgZXh0ZW5kcyBQaWVjZSB7XHJcbiAgY29uc3RydWN0b3IoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IGlkID0gXCJMXCI7XHJcbiAgICBjb25zdCBjb2xvciA9IFwiI2ZmN2YwMFwiO1xyXG4gICAgbGV0IG1hdHJpeCA9IFtcclxuICAgICAgWy0xLCAwXSxcclxuICAgICAgWzAsIDBdLFxyXG4gICAgICBbMSwgMF0sXHJcbiAgICAgIFsxLCAtMV0sXHJcbiAgICBdO1xyXG4gICAgc3VwZXIoe1xyXG4gICAgICBpZCxcclxuICAgICAgY29sb3IsXHJcbiAgICAgIHBpdm90OiBbeCwgeV0sXHJcbiAgICAgIG1hdHJpeCxcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgR2FtZSBmcm9tIFwiLi9HYW1lXCI7XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcclxuZ2FtZS5zdGFydEdhbWUoKTtcclxuIiwiaW1wb3J0IEJvYXJkIGZyb20gXCIuL0JvYXJkL0JvYXJkXCI7XHJcbmltcG9ydCBQaWVjZSBmcm9tIFwiLi9QaWVjZS9QaWVjZVwiO1xyXG5pbXBvcnQgVFBpZWNlIGZyb20gXCIuL1BpZWNlL1RQaWVjZVwiO1xyXG5pbXBvcnQgSVBpZWNlIGZyb20gXCIuL1BpZWNlL0lQaWVjZVwiO1xyXG5pbXBvcnQgT1BpZWNlIGZyb20gXCIuL1BpZWNlL09QaWVjZVwiO1xyXG5pbXBvcnQgU1BpZWNlIGZyb20gXCIuL1BpZWNlL1NQaWVjZVwiO1xyXG5pbXBvcnQgSlBpZWNlIGZyb20gXCIuL1BpZWNlL0pQaWVjZVwiO1xyXG5pbXBvcnQgWlBpZWNlIGZyb20gXCIuL1BpZWNlL1pQaWVjZVwiO1xyXG5pbXBvcnQgTFBpZWNlIGZyb20gXCIuL1BpZWNlL0xQaWVjZVwiO1xyXG5cclxuY2xhc3MgR2FtZSB7XHJcbiAgcHJpdmF0ZSBib2FyZDogQm9hcmQ7XHJcbiAgcHJpdmF0ZSBoaXN0b3J5OiBudW1iZXIgPSA5OTtcclxuICBwcml2YXRlIGN1cnJlbnRQaWVjZTogUGllY2U7XHJcbiAgcHJpdmF0ZSBuZXh0UGllY2U6IFBpZWNlO1xyXG4gIHByaXZhdGUgdGltZW91dDogTm9kZUpTLlRpbWVvdXQgfCB1bmRlZmluZWQ7XHJcbiAgcHJpdmF0ZSBpbnRlcnZhbDogTm9kZUpTLlRpbWVvdXQgfCB1bmRlZmluZWQ7XHJcbiAgcHJpdmF0ZSBub3JtYWxEcm9wOiBudW1iZXIgPSAxMDA7XHJcbiAgcHJpdmF0ZSBzb2Z0RHJvcDogbnVtYmVyID0gNTA7XHJcbiAgcHJpdmF0ZSBzdG9wcGVkOiBib29sZWFuO1xyXG4gIHByaXZhdGUgY3VycmVudFNwZWVkOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBpc1NvZnREcm9wcGluZzogYm9vbGVhbjtcclxuICBwcml2YXRlIGxhc3RVcGRhdGVUaW1lOiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBhY2N1bXVsYXRlZFRpbWU6IG51bWJlcjtcclxuICBwcml2YXRlIGZyYW1lUmVxdWVzdEhhbmRsZTogbnVtYmVyIHwgbnVsbDtcclxuXHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmxhc3RVcGRhdGVUaW1lID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgdGhpcy5ib2FyZCA9IG5ldyBCb2FyZChcclxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKSBhcyBIVE1MQ2FudmFzRWxlbWVudFxyXG4gICAgKTtcclxuICAgIHRoaXMubmV4dFBpZWNlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBpZWNlKCk7XHJcbiAgICB0aGlzLmN1cnJlbnRQaWVjZSA9IHRoaXMuZ2VuZXJhdGVSYW5kb21QaWVjZSgpO1xyXG4gICAgdGhpcy5jdXJyZW50U3BlZWQgPSB0aGlzLm5vcm1hbERyb3A7XHJcbiAgICB0aGlzLmlzU29mdERyb3BwaW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmFjY3VtdWxhdGVkVGltZSA9IDA7XHJcbiAgICB0aGlzLmZyYW1lUmVxdWVzdEhhbmRsZSA9IG51bGw7XHJcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuaGFuZGxlS2V5RG93bik7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuaGFuZGxlS2V5VXApO1xyXG4gIH1cclxuXHJcbiAgcHJpdmF0ZSBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgIGNvbnN0IGJvYXJkTWF0cml4ID0gdGhpcy5ib2FyZC5nZXRNYXRyaXgoKTtcclxuXHJcbiAgICBzd2l0Y2ggKGUua2V5KSB7XHJcbiAgICAgIGNhc2UgXCJBcnJvd0xlZnRcIjpcclxuICAgICAgICB0aGlzLnRyeU1vdmUoLTEsIDApO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOlxyXG4gICAgICAgIHRoaXMudHJ5TW92ZSgxLCAwKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIkFycm93RG93blwiOlxyXG4gICAgICAgIHRoaXMuc3RhcnRTb2Z0RHJvcCgpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiQXJyb3dVcFwiOlxyXG4gICAgICBjYXNlIFwiY1wiOlxyXG4gICAgICAgIHRoaXMuY3VycmVudFBpZWNlLnJvdGF0ZSgxLCBib2FyZE1hdHJpeCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCIgXCI6XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGllY2Uucm90YXRlKDAsIGJvYXJkTWF0cml4KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5yZWRyYXdHYW1lQm9hcmQoKTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIGhhbmRsZUtleVVwID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd0Rvd25cIikge1xyXG4gICAgICB0aGlzLnN0b3BTb2Z0RHJvcCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgdHJ5TW92ZSA9ICh4T2Zmc2V0OiBudW1iZXIsIHlPZmZzZXQ6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgbWF0cml4ID0gdGhpcy5jdXJyZW50UGllY2UuZ2V0TWF0cml4KCk7XHJcbiAgICBjb25zdCBwaXZvdCA9IHRoaXMuY3VycmVudFBpZWNlLmdldFBpdm90KCk7XHJcbiAgICBsZXQgZmxhZyA9IG1hdHJpeC5ldmVyeSgodGlsZSkgPT4ge1xyXG4gICAgICBjb25zdCBuZXdYID0gdGlsZVswXSArIHBpdm90WzBdICsgeE9mZnNldDtcclxuICAgICAgY29uc3QgbmV3WSA9IHRpbGVbMV0gKyBwaXZvdFsxXSArIHlPZmZzZXQ7XHJcbiAgICAgIHJldHVybiB0aGlzLmlzUG9zaXRpb25WYWxpZChuZXdYLCBuZXdZKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChmbGFnKSB7XHJcbiAgICAgIHRoaXMuY3VycmVudFBpZWNlLnNldFBpdm90KHBpdm90WzBdICsgeE9mZnNldCwgcGl2b3RbMV0gKyB5T2Zmc2V0KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIGlzUG9zaXRpb25WYWxpZCA9ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgY29uc3QgYm9hcmRNYXRyaXggPSB0aGlzLmJvYXJkLmdldE1hdHJpeCgpO1xyXG4gICAgcmV0dXJuIHggPj0gMCAmJiB4IDw9IDkgJiYgeSA8PSAxOSAmJiBib2FyZE1hdHJpeFt5XT8uW3hdPy52YWx1ZSAhPT0gMTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHN0YXJ0U29mdERyb3AoKSB7XHJcbiAgICBpZiAoIXRoaXMuaXNTb2Z0RHJvcHBpbmcpIHtcclxuICAgICAgdGhpcy5jdXJyZW50U3BlZWQgPSB0aGlzLnNvZnREcm9wO1xyXG4gICAgICB0aGlzLmlzU29mdERyb3BwaW5nID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgc3RvcFNvZnREcm9wKCkge1xyXG4gICAgdGhpcy5jdXJyZW50U3BlZWQgPSB0aGlzLm5vcm1hbERyb3A7XHJcbiAgICB0aGlzLmlzU29mdERyb3BwaW5nID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGNhbkRyb3AgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBib2FyZE1hdHJpeCA9IHRoaXMuYm9hcmQuZ2V0TWF0cml4KCk7XHJcbiAgICBjb25zdCBtYXRyaXggPSB0aGlzLmN1cnJlbnRQaWVjZS5nZXRNYXRyaXgoKTtcclxuICAgIGNvbnN0IHBpdm90ID0gdGhpcy5jdXJyZW50UGllY2UuZ2V0UGl2b3QoKTtcclxuICAgIHJldHVybiBtYXRyaXguZXZlcnkoKHRpbGUpID0+IHtcclxuICAgICAgY29uc3QgbmV3WSA9IHRpbGVbMV0gKyBwaXZvdFsxXSArIDE7XHJcbiAgICAgIHJldHVybiBuZXdZIDw9IDE5ICYmIGJvYXJkTWF0cml4W25ld1ldPy5bdGlsZVswXSArIHBpdm90WzBdXT8udmFsdWUgIT09IDE7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHJlZHJhd0dhbWVCb2FyZCA9ICgpID0+IHtcclxuICAgIHRoaXMuYm9hcmQuZHJhdygpO1xyXG4gICAgdGhpcy5ib2FyZC5kcmF3UGllY2UodGhpcy5jdXJyZW50UGllY2UpO1xyXG4gIH07XHJcblxyXG4gIHB1YmxpYyBzdGFydEdhbWUgPSAoKSA9PiB7XHJcbiAgICB0aGlzLnN0b3BwZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuc3Bhd24oKTtcclxuICAgIHRoaXMuZnJhbWVSZXF1ZXN0SGFuZGxlID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuc3RhcnREcm9wTG9vcCk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBzdGFydERyb3BMb29wID0gKHRpbWVzdGFtcDogbnVtYmVyKSA9PiB7XHJcbiAgICBjb25zdCBkZWx0YVRpbWUgPSB0aW1lc3RhbXAgLSB0aGlzLmxhc3RVcGRhdGVUaW1lO1xyXG4gICAgdGhpcy5sYXN0VXBkYXRlVGltZSA9IHRpbWVzdGFtcDtcclxuICAgIHRoaXMuYWNjdW11bGF0ZWRUaW1lICs9IGRlbHRhVGltZTtcclxuXHJcbiAgICAvLyBVc2UgY3VycmVudFNwZWVkIHRvIGRldGVybWluZSBsb2dpYyB1cGRhdGUgZnJlcXVlbmN5XHJcbiAgICB3aGlsZSAodGhpcy5hY2N1bXVsYXRlZFRpbWUgPiB0aGlzLmN1cnJlbnRTcGVlZCkge1xyXG4gICAgICBpZiAodGhpcy5jYW5Ecm9wKCkpIHtcclxuICAgICAgICB0aGlzLmRyb3AoKTtcclxuICAgICAgfSBlbHNlIGlmICghdGhpcy50aW1lb3V0KSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZVN0b3AoKTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmFjY3VtdWxhdGVkVGltZSAtPSB0aGlzLmN1cnJlbnRTcGVlZDtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLnJlZHJhd0dhbWVCb2FyZCgpO1xyXG4gICAgaWYgKCF0aGlzLnN0b3BwZWQpIHtcclxuICAgICAgdGhpcy5mcmFtZVJlcXVlc3RIYW5kbGUgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5zdGFydERyb3BMb29wKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIHNwYXduID0gKCkgPT4ge1xyXG4gICAgdGhpcy5jdXJyZW50UGllY2UgPSB0aGlzLm5leHRQaWVjZTtcclxuICAgIHRoaXMubmV4dFBpZWNlID0gdGhpcy5nZW5lcmF0ZVJhbmRvbVBpZWNlKCk7XHJcbiAgICB0aGlzLmJvYXJkLmRyYXdQaWVjZSh0aGlzLmN1cnJlbnRQaWVjZSk7XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBkcm9wID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcGl2b3QgPSB0aGlzLmN1cnJlbnRQaWVjZS5nZXRQaXZvdCgpO1xyXG4gICAgdGhpcy5jdXJyZW50UGllY2Uuc2V0UGl2b3QocGl2b3RbMF0sIHBpdm90WzFdICsgMSk7XHJcbiAgICB0aGlzLnJlZHJhd0dhbWVCb2FyZCgpO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgcXVldWVTdG9wID0gKCkgPT4ge1xyXG4gICAgaWYgKHRoaXMudGltZW91dCkgcmV0dXJuO1xyXG4gICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dCh0aGlzLnN0b3AsIDEwMDApO1xyXG4gIH07XHJcblxyXG4gIHByaXZhdGUgc3RvcCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmNhbkRyb3AoKSkgcmV0dXJuO1xyXG4gICAgdGhpcy5jbGVhckRyb3BJbnRlcnZhbCgpO1xyXG4gICAgdGhpcy5jbGVhclN0b3BUaW1lb3V0KCk7XHJcbiAgICB0aGlzLnN0b3BwZWQgPSB0cnVlO1xyXG4gICAgdGhpcy5ib2FyZC5hZGRUb1N0YWNrKHRoaXMuY3VycmVudFBpZWNlKTtcclxuICAgIHRoaXMuYm9hcmQuY2xlYXJMaW5lKCk7XHJcbiAgICBpZiAodGhpcy5ib2FyZC5tYXhIZWlnaHRSZWFjaGVkKCkpIHtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuc3RhcnRHYW1lKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBjbGVhckRyb3BJbnRlcnZhbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIGlmICh0aGlzLmZyYW1lUmVxdWVzdEhhbmRsZSkge1xyXG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLmZyYW1lUmVxdWVzdEhhbmRsZSk7XHJcbiAgICAgIHRoaXMuZnJhbWVSZXF1ZXN0SGFuZGxlID0gbnVsbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBwcml2YXRlIGNsZWFyU3RvcFRpbWVvdXQgPSAoKTogdm9pZCA9PiB7XHJcbiAgICBpZiAodGhpcy50aW1lb3V0KSBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTtcclxuICAgIHRoaXMudGltZW91dCA9IHVuZGVmaW5lZDtcclxuICB9O1xyXG5cclxuICBwcml2YXRlIHJhbmRvbWl6ZXIgPSAoKTogbnVtYmVyID0+IHtcclxuICAgIGxldCByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KTtcclxuICAgIHdoaWxlIChyYW5kb20gPT09IHRoaXMuaGlzdG9yeSkge1xyXG4gICAgICByYW5kb20gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA3KTtcclxuICAgIH1cclxuICAgIHRoaXMuaGlzdG9yeSA9IHJhbmRvbTtcclxuICAgIHJldHVybiByYW5kb207XHJcbiAgfTtcclxuXHJcbiAgcHJpdmF0ZSBnZW5lcmF0ZVJhbmRvbVBpZWNlID0gKCk6IFBpZWNlID0+IHtcclxuICAgIGNvbnN0IHJhbmRvbSA9IHRoaXMucmFuZG9taXplcigpO1xyXG4gICAgbGV0IHBpZWNlOiBQaWVjZTtcclxuICAgIHN3aXRjaCAocmFuZG9tKSB7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgICBwaWVjZSA9IG5ldyBUUGllY2UoNSwgMCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMTpcclxuICAgICAgICBwaWVjZSA9IG5ldyBJUGllY2UoNC41LCAtMC41KTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAyOlxyXG4gICAgICAgIHBpZWNlID0gbmV3IEpQaWVjZSg1LCAwKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHBpZWNlID0gbmV3IExQaWVjZSg1LCAwKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSA0OlxyXG4gICAgICAgIHBpZWNlID0gbmV3IFNQaWVjZSg1LCAwKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSA1OlxyXG4gICAgICAgIHBpZWNlID0gbmV3IE9QaWVjZSg1LCAwKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBwaWVjZSA9IG5ldyBaUGllY2UoNSwgMCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGllY2U7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgR2FtZTtcclxuIl0sIm5hbWVzIjpbImNhbnZhcyIsInNjYWxlIiwiZHJhd1RpbGUiLCJ4IiwieSIsImNvbG9yIiwiY3R4IiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJnbG9iYWxBbHBoYSIsImZpbGxSZWN0Iiwic3Ryb2tlUmVjdCIsImRyYXdQaWVjZSIsInBpZWNlIiwiZ2V0UGl2b3QiLCJnZXRDb2xvciIsImdldE1hdHJpeCIsInBpdm90IiwiZm9yRWFjaCIsInRpbGUiLCJkcmF3IiwiY2xlYXIiLCJjZWxsIiwibWF0cml4IiwidmFsdWUiLCJnZXRDdHgiLCJjbGVhclJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImNsZWFyTGluZSIsImV2ZXJ5Iiwic2hpZnRZIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwibWF4SGVpZ2h0UmVhY2hlZCIsInNvbWUiLCJhZGRUb1N0YWNrIiwidGhpcyIsImdldENvbnRleHQiLCJpZCIsInNldFBpdm90Iiwicm90YXRlIiwiZGlyIiwiYm9hcmRNYXRyaXgiLCJyb3RhdGlvbiIsImdldFJvdGF0aW9uTWF0cml4Iiwicm90YXRlZCIsIm1hcCIsImIiLCJhIiwiY2hhbmdlT3JpZW50YXRpb24iLCJyb3RhdGlvblN1Y2Nlc3NmdWwiLCJraWNrRGF0YSIsIm9yaWVudGF0aW9uIiwiY2hlY2tLaWNrIiwiZG9LaWNrIiwia2ljayIsImkiLCJoaXN0b3J5Iiwibm9ybWFsRHJvcCIsInNvZnREcm9wIiwiaGFuZGxlS2V5RG93biIsImUiLCJib2FyZCIsImtleSIsInRyeU1vdmUiLCJzdGFydFNvZnREcm9wIiwiY3VycmVudFBpZWNlIiwicmVkcmF3R2FtZUJvYXJkIiwiaGFuZGxlS2V5VXAiLCJzdG9wU29mdERyb3AiLCJ4T2Zmc2V0IiwieU9mZnNldCIsIm5ld1giLCJuZXdZIiwiaXNQb3NpdGlvblZhbGlkIiwiY2FuRHJvcCIsInN0YXJ0R2FtZSIsInN0b3BwZWQiLCJzcGF3biIsImZyYW1lUmVxdWVzdEhhbmRsZSIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInN0YXJ0RHJvcExvb3AiLCJ0aW1lc3RhbXAiLCJkZWx0YVRpbWUiLCJsYXN0VXBkYXRlVGltZSIsImFjY3VtdWxhdGVkVGltZSIsImN1cnJlbnRTcGVlZCIsImRyb3AiLCJ0aW1lb3V0IiwicXVldWVTdG9wIiwibmV4dFBpZWNlIiwiZ2VuZXJhdGVSYW5kb21QaWVjZSIsInNldFRpbWVvdXQiLCJzdG9wIiwiY2xlYXJEcm9wSW50ZXJ2YWwiLCJjbGVhclN0b3BUaW1lb3V0IiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjbGVhclRpbWVvdXQiLCJ1bmRlZmluZWQiLCJyYW5kb21pemVyIiwicmFuZG9tIiwiTWF0aCIsImZsb29yIiwiSlBpZWNlIiwiTFBpZWNlIiwiU1BpZWNlIiwiWlBpZWNlIiwid2luZG93IiwicGVyZm9ybWFuY2UiLCJub3ciLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJpc1NvZnREcm9wcGluZyIsImFkZEV2ZW50TGlzdGVuZXIiXSwic291cmNlUm9vdCI6IiJ9